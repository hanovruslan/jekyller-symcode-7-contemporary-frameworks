## План ##

В докладе я попытаюсь ответить на некоторые казалось бы очевидные вопросы - провести в каком-то смысле исследование фреймворков - на примере сравнения известного мне фреймворка и почти что неизвестного.
 
Часто будут встречаться знаки вопросов. И это не потому что я поленился ответить на вопросы, а потому что считаю, что подобные вопросы следует себе задавать регулярно чтобы развиваться. 

## Зачем исследовать ##

С точки зрения менеджера - как некого условного организатора работ по проекту - 
Большие и интересные проекты как правило создаются командами. 

В команде возможна текучка, и из чего возникает понятия "моя задача", "мой код" и т.п.

## Фреймворк ##

Было бы здорово ответить на этот же вопрос - "Зачем исследовать?" - с точки зрения разработчика, а не менеджера.

Для этого надо понять а что же такое фреймворк.

## Что такое фреймворк ##

Под структурой обычно понимается файловая структура исходников и иногда схема базы данных 

Под этим облегчением обычно понимается - "бац-бац и в продакшен"

Среда - это в первую очередь про автоматизацию всего что связано с настройкой окружения для проекта.

Настройка для разработки, тестирования, использования в каком-то (не локальном) окружении

То есть фреймворк - это когда понятно как проект устроен, как его настраивать и как использовать.  

## Предназначение фреймворка ##

Нужно отметить, что речь идет в фреймворках для решения задач веб-разработки. То есть не мобильной, не десктопной или еще какой-либо.
 
Но даже в веб-разработки огромный спектр задач и поэтому авторами фреймворков обычно предпогалается какое-то предназначение.

Особо амбициозные (или неоптные?) считают, что создают универсальный фреймворк.

Но так как универсальность имеет прямое противоречение с конкретными задачами в нашей повседневной жизни разработчика, то лучше говорить не унивесальный, а достаточно общий. 

## Противоречия между предназначением и типом ##

Первые два противоречия достаточно очевидны

Почему web - не микро? Потому что обычно для веб-проектов, которые начинаются с микрофреймворков возникается так называемая "Проблема банана, обезьян и джунглей".

Сначала у вас нет ничего, но потом вы захотели банан. Обычно это админка или банальная шаблонизация. В процессе подключения выясняется, что в трансизитных зависимостях вам достается много чего, что относится к фреймворкам другого предназначения. Вот и закончилась эра микро. 

с противоречием "No framework - не универсальный" чуть сложнее чем со всеми остальными.
 
Логика примерно такая - "No framework" предполагает магию, а магия обычно имеет определенное предназначение - напрмиер Web.

Если же вы подумали что можете вклиниться в эту магию, то получается что ставите свой функционал на один уровень с магией "No framework" и возникает вопрос - а так ли нужна эта магия.

Звучит не очень весело, но я лично верю что на каком-то достаточно близком витке эволюции фреймворков этих противоречний не будет. 

## История Zend framework vs Symfony ##

Для сравнения первый релиз Symfony 1 - октябрь 2005. но не публичный релиз а какой-то там 0.y.z, версия 1.0.0 была выпущена в январе 2007

Но Zend тоже зарелизился на самом деле не в 2006 году, потому что в эту дату (Март 2006) был какой-то там 0.y.z релиз, а 1.0 был в ноябре 2007

Как видно на первых порах оба игрока шли так сказать ноздря в ноздрю.
  
Версии 1.12.x - это то, что есть в гитхабе. Дело в том что Symfony и Zend Framework застали эпоху SVN и когда git его сменил, разработка обоих фреймворков мигрировала в гитхаб.  

Symfony 2 - Июль 2011 года. 

К сожалению я не могу с уверенностью сказать тип и предназначение (скорее всего монолит и web) Zend Framework, но про Symfony 2 можно точно сказать, что это была революция в мире вед-разработки.

А разница чуть более в год между релизами Symfony 2 и Zend Framework 2 для разработчика по крайней мере сейчас выглядит существенной.

И думаю я не сильно ошибусь, если скажу что Zend Framework в этот момент стал играть роль догоняющего, что не может не демотивировать

Чуть более современно и шутливо можно перефразировать так - это фреймворк который релизится как сразу устаревший (Laravel, привет)
 
Разницу в датах между последними релизами можно интерпретировать как потребность клиентской базы в поддержке 

Со сравнением троек ситуация вроде бы выровнилась, но в Zend Framework проблема в том, что там было всего два релиза.

Судя по активностям в дистрибутивах (о чем чуть позже) и главным компонентам, фреймворк продолжает тренд монолитности 

Про Symfony же можно добавить что они достаточно давно озаботились графиком релизов и его придерживаются Symfony 

## Дистрибутивы ##

Насколько я понял по исходникам принципиальной разницы между фреймворками и дистрибутивами ZF 1 2 и 3 нет. и между 

Что действительно волнует в исходниках так это конфиги на php.
 
Там есть поддержка других форматов за счет модуля zendframework/zend-config,
 
но наличие прилично устаревших способов описывать структуру проекта в виде захардкоженных путей в php файлах как я уже сказал волнует.  

Про большой список прямых зависимостей.

Пару дней назад в нашем чатике я писал про визуальное сравнение графов зависимостей SF4 стандартного дистриба и ZF3 

С одной стороны ZF3 выигрывает в этом пункте потому что его граф меньше и размер папки vendor в 5 раз меньше чем у SF4

С другой стороны так сказать слишком плоские зависимости или слишком глубокие зависимости не кажется хорошей ситуацией
 
Наверное было бы полезно анализировать зависимости сравнивая со структурой B-дерева (Би-дерева)

Про Laminas - в апреле этого года авторы анонсировали ребрендинг, но релизов вроде бы не было.

Судя по тексту анонсу сообщество приложит усилия к изменениям в самом сообществе в соответствии с современным пониманием 
FOSS (Free and open source softwar), и не уверен, что у них есть планы на написание всего с нуля. 

## Выводы (про Symfony4) ##

Про структура - за размытые границы между частями фреймворка и конкретного приложения на его основе 
и за на мой взгляд непродуманную систему переопределения структуры приложения на основе symfony

* front controller
* application
* kernel
* bundle

Например, bundle не имеет воможность самостоятельно подгрузить роутинг штатными средствами.

Границы же между front controller и application в базовой поставке не существует. Её не очень трудно найти, однако кажется что авторы фреймворка должны были заране ответить на этот вопрос
 
Граница между application и kernel тоже вроде есть но нечеткая. Это видно на примере сравнения  front controller для Web и CLI приложений

Про инструментарий - один бал снял за flex ). Ему есть еще куда развиваться. 

Про средУ - composer, symfony-bin, flex, разнообразные pack-и, docker, monolog и т.п.

Хорошая новость (касается и Zend Framework-а) в том, что в принципе в мире PHP наработки devops находятся на достаточно высоком уровне
  
Но нет общего вектора развития devops-а, за что и снял один бал 

## Выводы (про Zend Framework) ##

Про структуру - очень похоже на то, что в этом фреймворке структура морально отстает лет на 10,
но то, что было 10 лет назад по сравнению с symfony казалось удобнее

про инструментарий - опять же можно только предположить что как и в случае с фреймворком сделан сильный акцент на монолитность решения. 

Это скорее плохо чем хорошо. И если оценивать по релизам, то перспективы туманны. 

